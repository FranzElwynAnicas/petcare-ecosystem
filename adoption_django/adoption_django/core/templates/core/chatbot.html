{% extends "core/base.html" %}
{% block title %}Chat Support{% endblock %}

{% block content %}
<div class="container py-5">
  <h1 class="text-center mb-4">Chat With Our Support Bot</h1>

  <div class="row justify-content-center">
    <div class="col-md-6">

      <div class="card shadow">
        <div class="card-body">

          <div id="chat-box" class="border rounded p-3 mb-3"
               style="height: 350px; overflow-y: auto;">
            <p class="text-muted text-center">Chatbot ready. How can I help?</p>
          </div>

          <div class="input-group">
            <input id="chat-input" type="text" class="form-control"
                   placeholder="Type your message...">
            <button class="btn btn-primary" id="send-btn">
              <i class="bi bi-send-fill"></i>
            </button>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
const box = document.getElementById("chat-box");
const input = document.getElementById("chat-input");
const btn = document.getElementById("send-btn");

btn.addEventListener("click", sendMessage);
input.addEventListener("keypress", function(e) {
  if (e.key === "Enter") sendMessage();
});

function sendMessage() {
  let msg = input.value.trim();
  if (!msg) return;

  box.innerHTML += `<p><strong>You:</strong> ${msg}</p>`;
  input.value = "";

  setTimeout(() => {
    box.innerHTML += `<p><strong>Bot:</strong> Sorry, demo mode only.</p>`;
    box.scrollTop = box.scrollHeight;
  }, 500);

  box.scrollTop = box.scrollHeight;
}
</script>
{% endblock %}
